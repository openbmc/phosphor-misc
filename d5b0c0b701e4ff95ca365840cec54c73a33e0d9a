{
  "comments": [
    {
      "key": {
        "uuid": "7c2457d6_6f3983de",
        "filename": "usb-ctrl/usb-ctrl",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-04-19T05:29:28Z",
      "side": 1,
      "message": "This syntax sets opt4 to usb-ro if $4 is unset or empty string.",
      "revId": "d5b0c0b701e4ff95ca365840cec54c73a33e0d9a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc31388d_89633439",
        "filename": "usb-ctrl/usb-ctrl",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2021-04-19T05:42:20Z",
      "side": 1,
      "message": "Yup, but I do not want to break the previous logic.\nSo if user sets bmc\u0027s mac address but does not set host\u0027s mac address, the opt4 here becomes usb-ro, and it will fail on line 175.\nI intend to accept this behavior, unless there is a better solution.",
      "parentUuid": "7c2457d6_6f3983de",
      "revId": "d5b0c0b701e4ff95ca365840cec54c73a33e0d9a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "62a35c5f_8c4bb2ff",
        "filename": "usb-ctrl/usb-ctrl",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-04-19T05:53:29Z",
      "side": 1,
      "message": "Hmm surprised we don\u0027t have set -e in this script.",
      "parentUuid": "fc31388d_89633439",
      "revId": "d5b0c0b701e4ff95ca365840cec54c73a33e0d9a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "882d4bd1_a97b0276",
        "filename": "usb-ctrl/usb-ctrl",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1000675
      },
      "writtenOn": "2021-04-19T10:13:59Z",
      "side": 1,
      "message": "You might want to declare separate functions, e.g. init_mass_storage and init_ecm, which will define the own logic. The first two passed args might be stripped and pass through into that functions.\nThis will allow making more proper of configuring the default values which is dependent on usb-type.",
      "parentUuid": "62a35c5f_8c4bb2ff",
      "revId": "d5b0c0b701e4ff95ca365840cec54c73a33e0d9a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ba4bb0d_b06d056c",
        "filename": "usb-ctrl/usb-ctrl",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2021-04-21T07:12:53Z",
      "side": 1,
      "message": "\u003e Hmm surprised we don\u0027t have set -e in this script.\n\nI think it may be on purpose, with -e any failure will make the script to quit, then the status could be in the middle of the init/de-init, it may cause the script failure on following calls.\n\n\u003e You might want to declare separate functions\n\nYup, separated functions make sense.",
      "parentUuid": "882d4bd1_a97b0276",
      "revId": "d5b0c0b701e4ff95ca365840cec54c73a33e0d9a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ebaa93ca_0961bd94",
        "filename": "usb-ctrl/usb-ctrl",
        "patchSetId": 1
      },
      "lineNbr": 146,
      "author": {
        "id": 1000044
      },
      "writtenOn": "2021-04-21T07:25:52Z",
      "side": 1,
      "message": "Another thought, if we use separate functions, it will contain duplicated code.\nI am not really good at bash programming, so adding an extra \"if\" to initialize $opt4 to keep the previous logic.",
      "parentUuid": "6ba4bb0d_b06d056c",
      "revId": "d5b0c0b701e4ff95ca365840cec54c73a33e0d9a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "796226b1_e5786b5d",
        "filename": "usb-ctrl/usb-ctrl",
        "patchSetId": 1
      },
      "lineNbr": 175,
      "author": {
        "id": 1000021
      },
      "writtenOn": "2021-04-19T05:29:28Z",
      "side": 1,
      "message": "Which makes this nonsense or error EINVAL",
      "revId": "d5b0c0b701e4ff95ca365840cec54c73a33e0d9a",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}